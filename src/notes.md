## What is a blockchain?

A blockchain is literally a chain of blocks. In other words, it's a data structure where each block contains a reference to the previous block, some data, and a secure digital fingerprint known as a _hash._

To generate a hash, a block is run though a cryptographic hash function that outputs a fixed length alphanumeric string. This hash is placed into the next block, so that it has a reference back to the previous block's hash. If any part of a block is mutated after it's been created, the hash would also change. Therefore, all subsequent blocks would contain an incorrect previous hash. This is the fundamental idea behind a blockchain. It is _immutable._

Let's look at an example.

First, we initialize a variable called `blockchain` to an empty array.

```js
const blockchain = [];
```

Next, we fill it with blocks. The first block in the chain is called the _genesis block._

```js
genesisBlock: {
  previousHash: '000',
  data: 'hello',
  hash: '123'
};
```

Because it is the first block in the chain it won't point to anything before it. Its previous hash is initialized with a placeholder value.

Let's make our second block. Its previous hash will point to the genesis block's hash.

```js
block2: {
  previousHash: '123',
  data: 'guten tag',
  hash: '456'
};
```

Let's make one more block and push them all onto our chain.

```js
block3: {
  previousHash: '456',
  data: 'bonjour',
  hash: '789'
};
```

`blockchain.push(genesisBlock, block2, block3);`

```js
const blockchain = [
  {
    genesisBlock: {
      previousHash: '000',
      data: 'hello',
      hash: '123'
    },
    block2: {
      previousHash: '123',
      data: 'guten tag',
      hash: '456'
    },
    block3: {
      previousHash: '456',
      data: 'bonjour',
      hash: '789'
    }
  }
];
```

Great! We have a blockchain.

---

## Blocks

But we've oversimplified things. Let's take a deeper look into what is inside of a block.

```js
const blockchain = [
  {
    block: {
      index: 42,
      timestamp: Date.now(),
      data: {
        sender: '',
        recipient: '',
        amount: 5
      },
      previousHash:
        'A665A45920422F9D417E4867EFDC4FB8A04A1F3FFF1FA07E998E86F7F7A27AE3',
      hash: 'BA7816BF8F01CFEA414140DE5DAE2223B00361A396177A9CB410FF61F20015AD',
      nonce: 57231
    }
  }
];
```

* `index` is optional, and it tells us where the block is located on the chain.
* `timestamp` tells us when the block was created. In this example, we used JavaScript's built-in `Date.now()` function to generate a date.
* `data` is associated with any type of data in the block. In the case of a cryptocurrency, it may include the public key of the sender and the recipient as well as the amount of said currency.
* `hash`is a 64 character string that is generated by our hashing algorithm SHA-256. We will cover this in the next rep.
* `previousHash` is a 64 character string that points to the previous block's hash.
* `nonce` is a random number that computes a hash. It is used to generate the difficulty of _mining_ a block. This is commonly known as _proof-of-work._ We will also cover these concepts in the next rep.

---

## Hashing & Mining

SHA-256 is a cryptographic hash function that comes from the SHA-2 (Secure Hash Algorithm 2) family. It's important to note that hash functions are _one-way._ In other words, when given an input, it will produce an output that is extremely difficult to reconstruct with modern computing technology. SHA-256 is the most commonly used hash function on a blockchain network, and one of its key use cases is _mining._

_Mining_ is a process by which new cryptocurrency coins are introduced into the existing supply of a blockchain network, and it involves computing a hash function (SHA-256). Once a miner solves this complex math problem, a new block is sent to the network, and it is checked against the consensus. This is an important step in order to prevent fradulent blocks from being added to the blockchain. If this new block checks out, the miner is generally rewarded with coins. This entire process is called _proof-of-work._

Node.js has a built-in `crypto` module that contains the SHA-256 algorithm. In the next rep, we will take a closer look at how we can utilize it to create our blockchain.

---

## Refactoring

Let's refactor our code to make an actual JavaScript project. We are going to turn to object-oriented programming.

* Block class with constructor that has each of the block properties
* calculate the hash method (using SHA 256 from node.js)
* mine block method

---

Refactor blockchain to classes

* get latest block method
* add block method
* validate chain method

---
